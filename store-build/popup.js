function displayStatus(e){const t=document.getElementById("status");if(t.classList.remove("success","error","neutral"),!e)return t.innerText="No status available",void t.classList.add("neutral");let s="";if(e.timestamp){s=` (${new Date(e.timestamp).toLocaleString()})`}t.innerText=e.message+s,!0===e.success?t.classList.add("success"):!1===e.success?t.classList.add("error"):t.classList.add("neutral")}function getStatus(){chrome.runtime.sendMessage({action:"FCU_getStatus"},e=>{displayStatus(e)})}function loadVersionNumber(){const e=chrome.runtime.getManifest(),t=document.getElementById("version-number");t&&e.version&&(t.textContent=`v${e.version}`)}document.addEventListener("DOMContentLoaded",()=>{loadVersionNumber(),getStatus(),document.getElementById("checkNow").addEventListener("click",()=>{document.getElementById("status").innerText="Checking...",document.getElementById("status").className="status-box neutral",chrome.runtime.sendMessage({action:"FCU_checkNow"},()=>{setTimeout(getStatus,1e3)})})});